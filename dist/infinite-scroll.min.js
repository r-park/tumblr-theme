/* infinite-scroll v0.5.1 - 2015-07-03T04:35:49.807Z - https://github.com/r-park/infinite-scroll */
!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():t.infiniteScroll=n()}(this,function(){"use strict";function t(t){var i=1,o=$(t.nextSelector).attr("href"),u=!o,a=n(e(t.itemSelector,t.nextSelector),t.waitForImages),c=r(t.threshold,function(){t.autoLoad!==!1?f.load():f.emit("load:ready")}),d=function(t){t.nextUrl?(i++,o=t.nextUrl):(u=!0,f.emit("finished")),f.emit("load:end",{items:t.items,page:i},function(){f.start()})},f={finished:function(){return u},nextUrl:function(){return o},load:function(){if(u){var t=new $.Deferred;return t.resolve(),t.promise()}return f.emit("load:start"),a.load(o).then(d)},start:function(){u||c.watch()},stop:function(){c.stopWatching()}};return Emitter(["load:ready","load:start","load:end","finished"],f),f}function n(t,n){return{load:function(e){return $.ajax({url:e}).then(function(e){var r=t(e);return n?r.items.imagesReady().then(function(){return r}):r})}}}function e(t,n){return function(e){return e=$("<div>"+e+"</div>"),{items:e.find(t),nextUrl:e.find(n).attr("href")}}}function r(t,n){var e=!1,r={onScroll:function(){r.valid()&&(r.stopWatching(),n())},valid:function(){return window.innerHeight+window.pageYOffset>=document.body.scrollHeight-t},stopWatching:function(){e&&(e=!1,window.removeEventListener("scroll",r.onScroll))},watch:function(){e||(r.valid()?n():(e=!0,window.addEventListener("scroll",r.onScroll)))},watching:function(){return e}};return r}return t});
//# sourceMappingURL=infinite-scroll.min.js.map